@model IEnumerable<CodeFirstApproachCRUD.Models.Department>

@{
    ViewData["Title"] = "Index";
}

@{
    @if (TempData["update_success"] != null)
    {
        <div class="alert alert-primary d-flex justify-content-between align-items-center" role="alert">
            <span>
                @TempData["update_success"] <strong>Successfully!</strong>
            </span>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    if (TempData["insert_success"] != null)
    {
        <div class="alert alert-success d-flex justify-content-between align-items-center" role="alert">
            <span>
                @TempData["insert_success"] <strong>Successfully!</strong>
            </span>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
}

<div class="card">
    <div class="card-body">
        <h1 class="card-title">Departments</h1>
        <p class="card-text">
            <a asp-action="Create" class="btn btn-primary">Create New</a>
        </p>
        <div class="table-responsive">
            <table class="table table-bordered table-dark">
                <thead>
                    <tr>
                        <th>
                            <strong>DeptName</strong>
                        </th>
                        <th>
                            <strong>DeptHead</strong>
                        </th>
                        <th>
                            <strong>Actions</strong>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.DeptName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DeptHead)
                            </td>
                            <td>
                                @* <div class="btn-group" role="group" aria-label="Actions">
                                    <a asp-action="Edit" asp-route-id="@item.DeptId" class="btn btn-primary">Edit</a>
                                    <form asp-action="Delete" asp-route-id="@item.DeptId" method="post" onsubmit="return confirm('Are you sure you want to delete this employee?');" style="display: inline-block;">
                                        <button type="submit" class="btn btn-danger">Delete</button>
                                    </form>
                                </div> *@
                                <div class="btn-group" role="group" aria-label="Actions">
                                    <a asp-action="Edit" asp-route-id="@item.DeptId" class="btn btn-primary">Edit</a>
                                    <form asp-action="Delete" asp-route-id="@item.DeptId" method="post" onsubmit="return confirm('Are you sure you want to delete this department?');" style="display: inline-block;">
                                        <button type="submit" class="btn btn-danger">Delete</button>
                                    </form>
                                </div>

                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
